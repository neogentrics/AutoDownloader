<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1" />
 <title>AutoDownloader - Development Hub</title>
 <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
 <style>
 :root{--bg:#0f1418;--card:#161b1f;--muted:#9aa6b2;--accent:#007ACC;--accent2:#0b66b2;--success:#28a745;--warning:#ffc107}
 body{font-family:'Roboto',Segoe UI,Arial,sans-serif;background:var(--bg);color:#e6eef3;margin:0}
 .container{max-width:1200px;margin:36px auto;padding:20px}
 .header{display:flex;align-items:center;gap:18px;background:linear-gradient(90deg,var(--accent),#004a99);padding:22px;border-radius:12px}
 .logo{width:72px;height:72px;border-radius:10px;background:rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center;font-weight:700}
 .title h1{margin:0;font-size:1.8rem} .title p{margin:2px00;color:#dcebf8}
 .meta{margin-left:auto;text-align:right}
 .meta .ver{font-weight:600;color:#fff;background:rgba(0,0,0,0.12);padding:6px10px;border-radius:8px}
 .grid{display:grid;grid-template-columns:1fr360px;gap:24px;margin-top:20px}

 .card{background:var(--card);padding:18px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
 .card h2{margin:0012px;color:var(--accent)}
 .tabs{display:flex;gap:8px;margin-bottom:12px}
 .tab{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:8px12px;border-radius:8px;cursor:pointer;color:var(--muted)}
 .tab.active{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);color:var(--accent);border-color:rgba(0,122,204,0.25)}
 .tab-pane{display:none}
 .tab-pane.active{display:block}

 .changelog-list{list-style:none;padding:0;margin:0}
 .changelog-item{border-bottom:1px dashed rgba(255,255,255,0.03);padding:12px0}
 .changelog-item h4{margin:006px}
 .changelog-meta{color:var(--muted);font-size:0.9rem}
 .controls{display:flex;gap:8px;align-items:center;margin-bottom:12px}
 .search{flex:1;padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:#e6eef3}
 .btn{padding:8px12px;border-radius:6px;border:0;cursor:pointer;background:var(--accent);color:white}
 .small{font-size:0.9rem;color:var(--muted)}

 .links a{display:block;color:var(--accent);text-decoration:none;margin-bottom:6px}
 .roadmap-table{width:100%;border-collapse:collapse}
 .roadmap-table th, .roadmap-table td{padding:10px;border:1px solid rgba(255,255,255,0.03);text-align:left}
 .footer{text-align:center;margin-top:28px;color:var(--muted)}
 @media(max-width:980px){.grid{grid-template-columns:1fr}.meta{display:none}}
 </style>
</head>
<body>
 <div class="container">
 <div class="header">
 <div class="logo">AD</div>
 <div class="title">
 <h1>AutoDownloader Development Hub</h1>
 <p>WPF media archival, metadata-first downloads (yt-dlp, aria2c). Track progress, releases, and changelogs here.</p>
 </div>
 <div class="meta card">
 <div class="ver" id="appVersion">v1.10.0-beta</div>
 <div class="small" style="margin-top:6px">Build: <span id="buildTime">--</span></div>
 </div>
 </div>

 <div class="grid">
 <main>
 <div class="card">
 <div class="tabs" role="tablist">
 <button class="tab active" data-target="overview">Overview</button>
 <button class="tab" data-target="changelog">Changelog</button>
 <button class="tab" data-target="roadmap">Roadmap</button>
 <button class="tab" data-target="downloads">Downloads</button>
 <button class="tab" data-target="links">Links</button>
 </div>

 <section id="overview" class="tab-pane active">
 <h2>Project Overview</h2>
 <p class="small">AutoDownloader is a personal-use tool focused on reliable downloads and Plex-friendly naming. This development hub surfaces the latest progress for <strong>v1.10.0-beta</strong>.</p>

 <h3 style="color:var(--accent);margin-top:16px">v1.10.0-beta Highlights</h3>
 <ul>
 <li>TVDB reflection-based episode extraction and caching.</li>
 <li>Multi-scraper engine with AngleSharp and Playwright fallback for JS/Cloudflare-protected sites.</li>
 <li>Automatic Playwright browser install (optional, toggle in Preferences).</li>
 <li>Improved metadata XML persistence and content verification.</li>
 <li>UI improvements and interactive development hub (this page).</li>
 </ul>

 <h3 style="color:var(--accent);margin-top:12px">Quick Start</h3>
 <ol>
 <li>Open Preferences (Edit → Preferences or Ctrl+P) and add your TMDB API key.</li>
 <li>Enable automatic Playwright install if you want scraper fallback to work automatically.</li>
 <li>Paste a show URL or search term and click Download.</li>
 </ol>

 <h3 style="color:var(--accent);margin-top:12px">Developer Notes</h3>
 <p class="small">This page is generated from static files in the repo and updated as features land. Use the links panel to jump to GitHub, issues, and releases.</p>
 </section>

 <section id="changelog" class="tab-pane">
 <h2>Change Log</h2>
 <div class="controls">
 <input id="changelogFilter" class="search" placeholder="Filter changelog (e.g., Playwright, TVDB, bug)" />
 <button class="btn" id="expandAll">Expand All</button>
 <button class="btn" id="collapseAll">Collapse All</button>
 </div>

 <ul class="changelog-list" id="changelogList">
 <!-- Entries injected by script -->
 </ul>
 </section>

 <section id="roadmap" class="tab-pane">
 <h2>Roadmap</h2>
 <table class="roadmap-table">
 <thead><tr><th>Version</th><th>Planned</th><th>Status</th></tr></thead>
 <tbody>
 <tr><td>v1.10.0-beta</td><td>Scraper stability, TVDB caching, Playwright fallback</td><td style="color:var(--accent)">In Progress</td></tr>
 <tr><td>v2.0</td><td>UI overhaul, dynamic progress bars, developer log window</td><td style="color:var(--muted)">Planned</td></tr>
 <tr><td>v3.0+</td><td>External subtitle integration, advanced sync features</td><td style="color:var(--muted)">Future</td></tr>
 </tbody>
 </table>
 </section>

 <section id="downloads" class="tab-pane">
 <h2>Downloads & Releases</h2>
 <p class="small">Get the latest installer or view release notes on GitHub.</p>
 <p><a href="https://github.com/neogentrics/AutoDownloader/releases/latest" target="_blank" class="btn">Open Latest Release</a></p>
 <p class="small" style="margin-top:8px">Local build artifacts (CI) will be listed here when available.</p>
 </section>

 <section id="links" class="tab-pane">
 <h2>Quick Links</h2>
 <div class="links">
 <a href="https://github.com/neogentrics/AutoDownloader" target="_blank">GitHub Repository</a>
 <a href="https://github.com/neogentrics/AutoDownloader/issues" target="_blank">Issue Tracker</a>
 <a href="README.md" target="_blank">Project README</a>
 <a href="AutoDownloader.UI/PreferencesWindow.xaml" target="_blank">Preferences (XAML)</a>
 </div>
 </section>

 </div>
 </main>

 <aside>
 <div class="card">
 <h2>Status</h2>
 <p class="small">Current Version: <strong id="sideVersion">v1.10.0-beta</strong></p>
 <p class="small">Playwright Auto-Install: <span id="playwrightSetting">--</span></p>
 <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px0"/>
 <h3 style="color:var(--accent)">Recent Activity</h3>
 <ul class="small" id="recentActivity"></ul>
 </div>

 <div class="card" style="margin-top:16px">
 <h2>Resources</h2>
 <p class="small">Helpful docs and APIs used by the project:</p>
 <ul class="small" style="margin:0;padding-left:14px">
 <li><a href="https://github.com/yt-dlp/yt-dlp" target="_blank">yt-dlp</a></li>
 <li><a href="https://www.themoviedb.org" target="_blank">TMDB</a></li>
 <li><a href="https://thetvdb.com" target="_blank">TVDB</a></li>
 <li><a href="https://playwright.dev" target="_blank">Playwright</a></li>
 </ul>
 </div>
 </aside>
 </div>

 <div class="footer">&copy;2025 Neo Gentrics — AutoDownloader v<span id="footerVersion">1.10.0-beta</span></div>
 </div>

 <script>
 // App metadata
 const APP_VERSION = 'v1.10.0-beta';
 document.getElementById('appVersion').textContent = APP_VERSION;
 document.getElementById('sideVersion').textContent = APP_VERSION;
 document.getElementById('footerVersion').textContent = APP_VERSION.replace(/^v/,'');
 document.getElementById('buildTime').textContent = new Date().toLocaleString();

 // Tabs
 document.querySelectorAll('.tab').forEach(btn=>{
 btn.addEventListener('click', ()=>{
 document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
 document.querySelectorAll('.tab-pane').forEach(p=>p.classList.remove('active'));
 btn.classList.add('active');
 const target = btn.dataset.target;
 document.getElementById(target).classList.add('active');
 });
 });

 // Changelog data (augment as needed)
 const CHANGELOG = [
 {version:'v1.10.0-beta', date:'2025-11-01', type:'feature', title:'Playwright fallback + TVDB episode extraction', details:['Playwright-based rendering fallback for JS-protected sites','TVDB reflection-based episode extraction and caching','Automatic Playwright install (optional in Preferences)','Improved metadata XML persistence']},
 {version:'v1.9.2-Alpha', date:'2025-10-10', type:'fix', title:'Metadata & URL parsing improvements', details:['Smarter URL parsing for season detection','Confirm-name and select-database popups','Saved local series.xml metadata']},
 {version:'v1.8.1', date:'2024-06-15', type:'fix', title:'Critical direct-URL metadata fix', details:['Fixed hardcoded metadata search fallback','Improved TMDB lookups']}
 ];

 const changelogList = document.getElementById('changelogList');
 function renderChangelog(filter=''){
 changelogList.innerHTML='';
 const f = filter.trim().toLowerCase();
 CHANGELOG.forEach(entry=>{
 const searchText = (entry.version+' '+entry.title+' '+entry.details.join(' ')).toLowerCase();
 if (f && !searchText.includes(f)) return;
 const li = document.createElement('li'); li.className='changelog-item';
 const h4 = document.createElement('h4'); h4.textContent = `${entry.version} — ${entry.title}`;
 const meta = document.createElement('div'); meta.className='changelog-meta'; meta.textContent = `${entry.date} • ${entry.type}`;
 const details = document.createElement('div'); details.style.marginTop='8px';
 entry.details.forEach(d=>{ const p=document.createElement('p'); p.className='small'; p.textContent='• '+d; details.appendChild(p); });
 li.appendChild(h4); li.appendChild(meta); li.appendChild(details);
 changelogList.appendChild(li);
 });
 }
 renderChangelog();

 document.getElementById('changelogFilter').addEventListener('input', (e)=>renderChangelog(e.target.value));
 document.getElementById('expandAll').addEventListener('click', ()=>{
 document.querySelectorAll('.changelog-item div').forEach(d=>d.style.display='block');
 });
 document.getElementById('collapseAll').addEventListener('click', ()=>{
 document.querySelectorAll('.changelog-item div').forEach(d=>{ if (d.className!=='changelog-meta') d.style.display='none'; });
 });

 // Populate recent activity
 const recent = document.getElementById('recentActivity');
 ['Initialized Playwright install flow','Added Hianime & WCO scrapers','TVDB episode caching implemented'].forEach(x=>{ const li=document.createElement('li'); li.textContent=x; recent.appendChild(li); });

 // Show Playwright setting by reading a stub value from window (the app cannot read local settings from static page)
 // If this page is served by the app, the app may replace PLAYWRIGHT_SETTING at runtime.
 const PLAYWRIGHT_SETTING = 'enabled (see Preferences)';
 document.getElementById('playwrightSetting').textContent = PLAYWRIGHT_SETTING;

 </script>
</body>
</html>